<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ButtonHover</title>
    <link rel="stylesheet" href="css/buttonhover.css">
    <!--from http://zaole.net/-->
</head>

<body>
    <div class="main">
        <h4>Just Some More
            Button Hover Effects</h4>
        <div class="container">
            <a href="javascript:;" class="btn-1">HTML</a>
            <a href="javascript:;" class="btn-2">css</a>
            <a href="javascript:;" class="btn-3">javascript</a>
            <a href="javascript:;" class="btn-4">jquery</a>
            <a href="javascript:;" class="btn-5"><span>ext</span></a>
            <a href="javascript:;" class="btn-6"><span>vue</span></a>
        </div>
        <div class="container">
            <a href="javascript:;" class="btn-7">angular</a>
            <a href="javascript:;" class="btn-8"><span>bootstrap</span></a>
            <a href="javascript:;" class="btn-9">require</a>
            <a href="javascript:;" class="btn-10"><span>react</span></a>
            <a href="javascript:;" class="btn-11"><span>webpack</span></a>
            <a href="javascript:;" class="btn-12">fis3</a>
            <!--use js-->
            <a href="javascript:;" class="btn-13-js">gulp<span></span></a>
            <!--  -->
            <a class="waves ts-btn" href="javascript:;">Press me!<span>AAAA</span></a>
            <script>
                document.addEventListener('DOMContentLoaded', function() {

                    var duration = 750;

                    // 样式string拼凑
                    var forStyle = function(position) {
                        var cssStr = '';
                        for (var key in position) {
                            if (position.hasOwnProperty(key)) cssStr += key + ':' + position[key] + ';';
                        };
                        return cssStr;
                    }

                    // 获取鼠标点击位置
                    var forRect = function(target) {
                        var position = {
                                top: 0,
                                left: 0
                            },
                            ele = document.documentElement;
                        'undefined' != typeof target.getBoundingClientRect && (position = target.getBoundingClientRect());
                        return {
                            top: position.top + window.pageYOffset - ele.clientTop,
                            left: position.left + window.pageXOffset - ele.clientLeft
                        }
                    }

                    var show = function(event) {
                        var pDiv = event.target,
                            cDiv = document.createElement('div');
                        pDiv.appendChild(cDiv);
                        var rectObj = forRect(pDiv),
                            _height = event.pageY - rectObj.top,
                            _left = event.pageX - rectObj.left,
                            _scale = 'scale(' + pDiv.clientWidth / 100 * 10 + ')';
                        var position = {
                            top: _height + 'px',
                            left: _left + 'px'
                        };
                        cDiv.className = cDiv.className + " waves-animation",
                            cDiv.setAttribute("style", forStyle(position)),
                            position["-webkit-transform"] = _scale,
                            position["-moz-transform"] = _scale,
                            position["-ms-transform"] = _scale,
                            position["-o-transform"] = _scale,
                            position.transform = _scale,
                            position.opacity = "1",
                            position["-webkit-transition-duration"] = duration + "ms",
                            position["-moz-transition-duration"] = duration + "ms",
                            position["-o-transition-duration"] = duration + "ms",
                            position["transition-duration"] = duration + "ms",
                            position["-webkit-transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)",
                            position["-moz-transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)",
                            position["-o-transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)",
                            position["transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)",
                            cDiv.setAttribute("style", forStyle(position));
                        var finishStyle = {
                            opacity: 0,
                            "-webkit-transition-duration": duration + "ms",
                            "-moz-transition-duration": duration + "ms",
                            "-o-transition-duration": duration + "ms",
                            "transition-duration": duration + "ms",
                            "-webkit-transform": _scale,
                            "-moz-transform": _scale,
                            "-ms-transform": _scale,
                            "-o-transform": _scale,
                            top: _height + "px",
                            left: _left + "px",
                        };
                        setTimeout(function() {
                            cDiv.setAttribute("style", forStyle(finishStyle));
                            setTimeout(function() {
                                pDiv.removeChild(cDiv);
                            }, duration);
                        }, 100)
                    }
                    document.querySelector('.waves').addEventListener('click', function(e) {
                        show(e);
                    }, !1);
                }, !1);
            </script>
            <script src="js/jquery-1.11.3.js"></script>
            <script src="js/btn-13-js.js"></script>
        </div>
    </div>
</body>
<!--<script type="text/javascript">-->
<!--function timedMsg(){-->
<!--var t=setTimeout(function(){-->
<!--document.getElementsByClassName("main")[0].style.display="none";-->
<!--},3000)-->
<!--}-->
<!--timedMsg();-->
<!--</script>-->

</html>